<ng-container *ngIf="repository as repo">
  <div class="flex flex-col h-full">

    <div class="mb-4 text-white">
      <div class="flex items-center gap-3">
        <div class="rounded bg-red-600 p-2">
          <lucide-icon name="search"></lucide-icon>
        </div>
        <div>
          <div class="font-semibold text-slate-100">Inspetor</div>
          <div class="text-xs text-neutral-200">Ações rápidas e insights</div>
        </div>
      </div>
    </div>

    <div class="space-y-3 text-slate-100 flex-1">
      <div class="rounded border border-neutral-800 bg-slate-900/50 p-3">
        <div class="mb-2 text-xs text-neutral-400">Branch Atual</div>
        <div class="font-medium truncate">{{ repo.branch }}</div>
      </div>

      <div class="rounded border border-neutral-800 bg-slate-900/50 p-3">
        <div class="mb-2 text-xs text-neutral-400">Último Commit</div>
        <div class="text-sm font-medium truncate">{{ repo.commits[0]?.message }}</div>
        <div class="mt-1 text-xs text-neutral-400 truncate">{{ repo.commits[0]?.author }} • {{ repo.commits[0]?.date }}</div>
      </div>

      <div class="rounded border border-neutral-800 bg-slate-900/50 p-3 text-white">
        <div class="mb-2 text-xs text-neutral-400">Ações</div>
        <div class="flex flex-col gap-2">
          <button (click)="openInIDE.emit()" class="w-full rounded border border-neutral-700 hover:bg-slate-800/50 transition-colors px-3 py-2 text-sm">Abrir no IDE</button>
          <button (click)="openTerminal.emit()" class="w-full rounded border border-neutral-700 hover:bg-slate-800/50 transition-colors px-3 py-2 text-sm">Abrir terminal aqui</button>
          <button (click)="openFolder.emit()" class="w-full rounded bg-emerald-600 hover:bg-emerald-700 transition-colors px-3 py-2 text-sm text-white">
            Abrir pasta do repositório
          </button>
        </div>
      </div>
    </div>

    <div class="mt-6 text-xs text-slate-400">
      <b>Dica:</b> Use as configurações para excluir pastas grandes e acelerar o escaneamento.
    </div>
  </div>
</ng-container>

<ng-template #noRepoSelected>
  <div *ngIf="!repository" class="flex items-center justify-center h-full text-center text-neutral-500">
    <p>Selecione um repositório<br>para ver as opções.</p>
  </div>
</ng-template>
